<div class='row block-ui-box m-t-5 m-r-5 project-modal-check'>
  <div class="col-sm-12">
    <div class="title p-b-5"><%= project.client.company_name %>'s contacts
      <div class="radio-lbl d-inline-block">
        <label class="check ">Select All
          <input type="checkbox" data-project-contacts-check-all>
          <span class="checkmark"></span>
        </label>
      </div>
    </div>
    <% project.client.contacts.each do |contact| %>
      <div class="radio-lbl">
        <label class="check">
          <%= check_box_tag 'contact_ids[]', contact.id, project.contacts.include?(contact), class: 'check', 'data-project-contact-checkbox' => true %>
          <span class="checkmark"></span>
          <%= contact.fullname %>
        </label>
      </div>
    <% end %>
    <%= "No contacts" if project.client.contacts.blank? %>
  </div>
</div>
<script>
  $(document).ready(function () {
    $('[data-project-users-check-all]').on('change', function () {
      $(this).closest('[data-project-users-form]').find('[type=checkbox]').prop('checked', $(this).is(':checked'));
    });
  });
</script>
